<!-- BOSSANOVA808 MOD - Entire file, obviously -->
<!--	Unfortunately, a lot of things don't work as variables or constants, e.g. fonts -->
<!--	...but they do work as includes, it seems, so we use constants, where they _do_ work -->
<!--	...but otherwise includes, where they don't. -->
<!--	See the top of OzWeatherTweaks-confluence (etc) for the main 'variables' to change -->
<!--    But because of Kodi parsing issues with comments in includes, we document those here... -->

<!-- 	Fonts - there are 4 font sizes to set - FontHuge, FontBig, FontHeader and FontBody -->
<!--	Radars - RadarLegend is the size for the bigger outer image that adds the copyright and colour key -->
<!--  		   - RadarSquare is the size for the radar backgrounds and loop images -->
<!--    Controls - any skin specific controls needed for the weather page -->
<!--    MasterXOffset & MasterYOffset - shift the content frame around as needed, often values used are negative -->
<!--    WeatherInfoLineHeight - depending on the BodyFont used, this percentage varies from around 15 to 30% -->
<!--        to space out the weather info labels on the right of the observations panel -->

<includes>

	<include name="ozweather">
		
		<!-- Focus ABC weather -->
		<onload>Control.SetFocus(111)</onload>
		
		<!-- Skin Specific Stuff -->
		<include file="OzWeatherTweaks-confluence.xml" />

		<!-- All Skins    -->
		<include file="OzWeatherSnippets.xml" />
		<include file="OzWeatherRadar.xml" />
		<include file="OzWeatherButtons.xml" />
		<include file="OzWeatherObservations.xml" />
		<include file="OzWeatherForecast.xml" />

		<controls>
			<include content="CommonBackground" />

			<!-- GROUP OF TWO MAIN CONTENT PANELS, LEFT AND RIGHT -->
			<control type="group">
				<posx>MasterXOffset</posx>
				<posy>MasterYOffset</posy>

				<animation type="WindowOpen" reversible="false">
					<effect type="zoom" start="80" end="100" center="960,540" easing="out" tween="back" time="225" />
					<effect type="fade" start="0" end="100" time="225" />
				</animation>
				<animation type="WindowClose" reversible="false">
					<effect type="zoom" start="100" end="80" center="960,540" easing="in" tween="back" time="225" />
					<effect type="fade" start="100" end="0" time="225" />
				</animation>

				<!--  LEFT PANEL GROUP  -->
				<control type="group">
					<description>Left Panel - The Radar Loop, Buttons, and OzWeather Version Tag</description>
					<posx>3%</posx>
					<posy>5%</posy>
					<visible>!Weather.IsUpdating</visible>

					<include content="ConfluenceLeftPanelContainer" />

					<include content="OzWeatherHeader">
						<description>Radar Panel Header - ID and Time Range</description>
						<param name="posx">2%</param>
						<param name="posy">3%</param>
						<param name="label">Radar ($INFO[Weather.Data(Radar)]), [COLOR darkgray]from [/COLOR]$INFO[Weather.Data(RadarOldest)] [COLOR darkgray]to [/COLOR]$INFO[Weather.Data(RadarNewest)]</param>
					</include>

					<include content="RadarBackgrounds" />
					<include content="RadarLoop" />
					<include content="OzWeatherButtons" />
					<include content="OzWeatherTag" />

				</control> <!--  END LEFT PANEL GROUP -->

				<!-- RIGHT PANEL GROUP  -->
				<control type="group">
					<description>Right Panel - Current Observations, Extended Forecast Text, Forecast Rows</description>
					<posx>46%</posx>
					<posy>5%</posy>
					<visible>!Weather.IsUpdating</visible>

					<include content="ConfluenceRightPanelContainer" />

					<include content="OzWeatherHeader">
						<description>Location Panel Header - Name and Observed At Time</description>
						<param name="posx">3%</param>
						<param name="posy">3%</param>
						<param name="label">$INFO[Weather.Data(Location)], [COLOR darkgray]observed at[/COLOR] $INFO[Weather.Data(ObservationsUpdated)]</param>
					</include>

					<include content="Observations" />
					<include content="ExtendedForecast" />
					<include content="ForecastRows" />

				</control> <!--  END RIGHT PANEL GROUP -->

			</control> <!--END GROUP for Left & Right Panels -->

            <!-- Weather.IsUpdating indicator -->
            <control type="group">
                <visible>Weather.IsUpdating</visible>
                <depth>DepthDialog+</depth>
                <left>950</left>
                <top>500</top>
                <control type="image">
                    <description>Busy animation</description>
                    <width>48</width>
                    <height>48</height>
                    <texture>busy.png</texture>
                    <aspectratio>keep</aspectratio>
                    <animation effect="rotate" start="0" end="360" center="24,24" time="900" loop="true" condition="true">conditional</animation>
                </control>
            </control>
   
			<include content="ConfluenceBladeMenu" />
			<include content="Clock" />

		</controls>
	</include>
</includes>

